# 初识Vue3

## 一、和vue3并行的三大语言框架

* React：有一定程度主张，主张主要是函数编程的理念，比如什么是副作用，什么是纯函数等，为软性侵入

* Angular：他的两个版本都是强主张的，有较强的排他性，如果使用他，必须接受：

  1、必须使用它的模块机制

  2、必须使用它的模块注入

  3、必须使用它的特殊形式定义组件

* Vue：渐进式框架

## 二、Vue3的优势

​	1、vue最主要的特点就是响应式机制、模板、以及对象的组件声明语法，而3.0对这部分都做了更改

​    2、性能更好

​	3、体积更小

​	4、更好的ts支持

​	5、更好的代码组织

​	6、更好的逻辑抽离

​	7、更多的新功能

## 三、Vue3的简介

* 2020年9月18日，vue.js发布3.0版本，代号： One Piece（海贼王）

* 耗时2年多、2600+次提交、30+个RFC、600+次PR、[99位贡献者]

  （RFC：意即“请求注解”，包含了关于Internet的几乎所有重要的文字资料）

  （PR：公共关系，将你的代码push到网上被大家修改错误指出不足）

## 四、Vue3带来了什么

### 1、性能的提升

* 打包大小减少41%
* 初次渲染快55%，更新渲染快133%
* 内存减少54%

### 2、源码的升级

* 使用Proxy代替defineProPerty实现响应式
* 重写虚拟DOM的实现和Tree-Shaking

### 3、拥抱TypeScript

* vue3可以更好的支持typescript

### 4、新的特性

1、Composition API （组合API）

* setup配置
* ref与reactive
* watch与watchEffect
* provide与inject

## 五、安装vue3项目

### 1、使用vue-cli创建

``` js
## 查看vue版本，确保版本在4.5.0以上 ##
vue --version
## 安装或升级vue ##
npm install -g @vue/cli
## 创建
vue create 文件名
## 启动
cd 文件名
npm run serve
```

### 2、使用vite创建

#### 简介

Vite是一个新型的前端架构工具，主要有两部分组成：

1、开发服务器，基于**原生JS**提供了内建功能，达到了惊人的模块热更新速度

2、新的构建指令，使用的是Roliup打包代码，是预先配置好的，可输出用于生产环境的高度优化过的静态资源

#### 兼容性

Vite需要Node版本在12.0版本或以上才能够使用

加载速度明显变快

``` js
## 使用npm ##
npm init vite@latest
## 选择 ##
Project name: vite-project   
Select a framework: vue
Select a variant: vue-ts
## 启动 ##
cd vite-project
npm install
npm run dev
```

#### 2.1、vite优势

* 开发环境中，无需打包操作，可快速的冷启动
* 轻量快速的热重载（HMR）
* 真正的按需编译，不再等待整个应用编译完成

## 六、常用的组合式API

### 6.1、Steup

#### 理解： 

1、vue3中新加的一个配置项，值为一个函数，必须要有返回值

2、setup是所有组合式API盛放的位置

3、组件中用到的数据方法等都需要配置在setup中。

4、setup函数的两种返回值：

 	a、返回一个对象，对象中的属性方法在模板中均可以直接使用。

​	b、返回一个渲染函数，则可以自定义渲染内容。

5、注意点

​	尽量不要与Vue2混合使用。

​	setup不能是一个async函数，因为返回值不是return的对象，		而是promise对象

###  6.2、ref函数

#### 6.2.1、作用

定义一个响应式对象

#### 6.2.2、语法      const  常量=ref(value值)

创建一个包含响应式数据的引用对象（reference对象，简				称ref对象）

​      JS中操作数据 

​       模板中读取数据：{{常量}}

#### 6.2.3、备注：

* 接受的数据可以是：基本类型也可以是对象类型

* 基本类型的数据：响应式依然是根据									Object.defineProperty()的get和set完成的

* 对象类型的数据：内部求助了Vue3中的一个新函数reactive   函数。原理是利用Es6的新语法proxy

### 6.3、reactive函数（reactive响应式函数）

#### 6.3.1、作用

定义一个对象类型的响应式数据（不能定义基本类型的数据，要用ref函数去定义基本类型）

#### 6.3.2、语法

const一个代理对象=reactive(源对象)接受一个对象（或数组），返回一个代理对象（Proxy的实例对象，简称proxy】对象）

reactive定义的响应式数据是深层次的，与监听类似

内部是基于ES6的Proxy实现，通过代理对象操作源对象内部数据进行操作